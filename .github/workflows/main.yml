name: Version Testing

on: workflow_dispatch
  # push:
  #   branches: [ "main" ]
  # pull_request:
  #   branches: [ "main" ]

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout repo
      uses: actions/checkout@v4
      with:
        fetch-depth: 0  # Important to get full git history
    
    - name: Git Version
      id: version
      uses: codacy/git-version@2.4.0
      with:
        release-branch: main
        dev-branch: dev
        prefix: CRUD-ngfe-
        log-paths: CRUD-Full-Stack-App/angular-frontend
        
    - name: Print version
      run: echo "Generated Version - ${{ steps.version.outputs.version }}"

    # - name: Create Git Tag
    #   run: |
    #     git config user.name "GitHub Actions"
    #     git config user.email "actions@github.com"
    #     git tag ${{ steps.version.outputs.version }}
    #     git push origin ${{ steps.version.outputs.version }}
